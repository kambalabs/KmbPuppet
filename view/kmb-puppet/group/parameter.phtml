<form action="<?php echo $this->url('puppet-group', ['action' => 'update'], [], true) ?>" method="post">
<span class="inline-editable">
    <i class="glyphicon glyphicon-minus-sign"></i>
    <a href="#"><i class="glyphicon glyphicon-remove icon-red"></i></a>
    <strong class="blue"><?php echo $this->parameter->getName() ?></strong>
</span>
<div class="input-group form-inline-editable" style="display: none">
    <?php if (!isset($this->template)): ?>
    <input type="text" class="form-control" name="parameter" value="<?php echo $this->escapeHtml($this->parameter->getName()) ?>" />
    <?php else: ?>
    <select class="form-control" name="parameter">
        <option><?php echo $this->escapeHtml($this->parameter->getName()) ?></option>
        <?php foreach ($this->parameter->getAvailableSiblings() as $sibling): ?>
        <option><?php echo $this->escapeHtml($sibling->name) ?></option>
        <?php endforeach ?>
    </select>
    <?php endif ?>
    <div class="input-group-btn">
        <button class="btn btn-default" type="reset"><i class="glyphicon glyphicon-remove"></i></button>
        <button class="btn btn-primary" type="submit"><i class="glyphicon glyphicon-ok"></i></button>
    </div>
</div>
<?php if ($this->parameter->hasValues()): ?>
<ul style="clear:both">
    <?php foreach ($this->parameter->getValues() as $value): ?>
    <li>
        <span class="inline-editable">
            <a href="#"><i class="glyphicon glyphicon-remove icon-red"></i></a>
            <?php echo $value == '' ? '<i class="lightgrey">' . $this->translate('click to update') . '</i>' : $this->escapeHtml($value) ?>
        </span>
        <div class="input-group form-inline-editable" style="display: none">
            <?php if ($this->template->type == \KmbDomain\Model\ParameterType::PREDEFINED_LIST): ?>
            <select class="form-control" name="values[]">
                <option><?php echo $this->escapeHtml($value) ?></option>
                <?php foreach ($this->parameter->getAvailableValues() as $availableValue): ?>
                <option><?php echo $this->escapeHtml($availableValue) ?></option>
                <?php endforeach ?>
            </select>
            <?php elseif ($this->template->type == \KmbDomain\Model\ParameterType::TEXT): ?>
            <textarea style="resize:vertical" class="form-control custom-control" name="values[]"><?php echo $this->escapeHtml($value) ?></textarea>
            <?php else: ?>
            <input type="text" class="form-control" name="values[]" value="<?php echo $this->escapeHtml($value) ?>" />
            <?php endif ?>
            <div class="input-group-<?php echo $this->template->type == \KmbDomain\Model\ParameterType::TEXT ? 'addon' : 'btn' ?>">
                <button class="btn btn-default" type="reset"><i class="glyphicon glyphicon-remove"></i></button>
                <button class="btn btn-primary" type="submit"><i class="glyphicon glyphicon-ok"></i></button>
            </div>
        </div>
    </li>
    <?php endforeach ?>
</ul>
<?php endif ?>
</form>
