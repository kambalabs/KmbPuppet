<?php if (!empty($this->parameters)): ?>
<ul style="clear:both">
    <?php foreach ($this->parameters as $parameter): ?>
    <li>
    <?php if ($parameter->hasTemplate()): ?>
        <?php echo $this->partial('kmb-puppet/group/parameter', ['parameter' => $parameter, 'template' => $parameter->getTemplate()]) ?>
        <?php if ($parameter->getTemplate()->type == \KmbDomain\Model\ParameterType::HASHTABLE): ?>
            <?php echo $this->partial('kmb-puppet/group/parameters', ['parameters' => $parameter->getChildren()]) ?>
        <?php elseif ($parameter->getTemplate()->type == \KmbDomain\Model\ParameterType::EDITABLE_HASHTABLE): ?>
            <?php if ($parameter->hasChildren()): ?>
                <ul style="clear:both">
                <?php foreach ($parameter->getChildren() as $child): ?>
                    <li>
                        <?php echo $this->partial('kmb-puppet/group/parameter', ['parameter' => $child]) ?>
                        <?php echo $this->partial('kmb-puppet/group/parameters', ['parameters' => $child->getChildren()]) ?>
                    </li>
                <?php endforeach ?>
                </ul>
            <?php endif ?>
        <?php endif ?>
    <?php else: ?>
        <span class="bg-red">
            <i class="glyphicon glyphicon-minus-sign"></i>
            <i class="glyphicon glyphicon-zoom-in"></i>
            <a href="#"><i class="glyphicon glyphicon-remove icon-red"></i></a>
            <strong class="blue"><?php echo $parameter->getName() ?></strong>
            <p class="see-more red" style="display: none"><?php echo $this->translate('This parameter does not exists in the class template') ?></p>
        </span>
        <?php echo $this->partial('kmb-puppet/group/parameters', ['parameters' => $parameter->getChildren()]) ?>
    <?php endif ?>
    </li>
    <?php endforeach ?>
</ul>
<?php endif ?>
